package com.atmecs.chatbox;
import java.io.FileInputStream
;
import java.io.IOException;
import java.util.Properties;

import org.openqa.selenium.By;
//import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
//import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

public class ChatBoxTest extends BaseTest{
	
	@Test
	public void chatBox() throws InterruptedException, IOException
	{
		Thread.sleep(10000);
		driver.switchTo().frame("chat-widget");
		WebDriverWait wait = new WebDriverWait(driver, 50);
		wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(locatorsProperty.getProperty("chatIcon"))));
		Thread.sleep(3000);
		HelperClass h2 = new HelperClass(driver);
		h2.chatIcon(locatorsProperty.getProperty("chatIcon"));	
		Thread.sleep(3000);
		HelperClass h1 = new HelperClass(driver);
		h1.sendValue(locatorsProperty.getProperty("Name"), dataProperty.getProperty("Name"));
		Thread.sleep(5000);
		h1.sendValueForWatsappNum(locatorsProperty.getProperty("WhatsappNumber"), dataProperty.getProperty("WhatsappNumber"));
		Thread.sleep(3000);
		h1.sendValue(locatorsProperty.getProperty("Email"), dataProperty.getProperty("Email"));
		HelperClass h = new HelperClass(driver);
		h.selectElementFromDropdown(locatorsProperty.getProperty("DropDown"), dataProperty.getProperty("DropDown_Value"));
		Thread.sleep(3000);
		HelperClass h3 = new HelperClass(driver);
		h3.buttonClickable(locatorsProperty.getProperty("StartChat"));
	
	
		Thread.sleep(3000);
	}
	
}


